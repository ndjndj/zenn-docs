---
title: "ã€Rubyã€‘é…åˆ—ã‹ã‚‰é‡è¤‡ã‚’å‰Šé™¤ã™ã‚‹ uniq ã¯ Hash ã®é‡è¤‡ã‚‚å‰Šé™¤ã§ãã‚‹"
emoji: "ğŸ°"
type: "tech"
topics:
  - "ruby"
published: true
published_at: "2024-06-05 20:02"
---

Ruby ã§é…åˆ—ã‹ã‚‰é‡è¤‡ã™ã‚‹é …ç›®ã‚’å‰Šé™¤ã™ã‚‹æ–¹æ³•ã‚’èª¿ã¹ãŸã®ã§å‚™å¿˜éŒ²ã¨ã—ã¦ã¾ã¨ã‚ã¾ã™ã€‚
å˜ã«ãƒ¡ã‚½ãƒƒãƒ‰ã®ç´¹ä»‹ã ã‘ã—ã¦ã‚‚å‘³æ°—ãªã„ãªã¨æ€ã„ã€èª¿ã¹ãŸã‚‰ä¾¿åˆ©ãªæ©Ÿèƒ½ã‚‚è¦‹ã¤ã‘ãŸã®ã§ãã‚Œã‚‚ã¾ã¨ã‚ã¾ã™ã€‚

# çµè«–
- uniq ã§é‡è¤‡å‰Šé™¤, uniq! ã§ç ´å£Šçš„ã«é‡è¤‡å‰Šé™¤
- ãƒ–ãƒ­ãƒƒã‚¯ã‚’æ¸¡ã›ã‚‹ã®ã§ã€Hash ã®é…åˆ—ã§ Hash ã®ç‰¹å®šã®ã‚­ãƒ¼ã®é‡è¤‡ã¨ã‹ã‚‚å‰Šé™¤ã§ãã‚‹

# uniq ã§é‡è¤‡å‰Šé™¤, uniq! ã§ç ´å£Šçš„ã«é‡è¤‡å‰Šé™¤
uniq ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§é…åˆ—ã‹ã‚‰é‡è¤‡ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```rb
arr = ["tanaka", "hanako", "nagata", "tanaka"]
arr2 = arr.uniq
p arr
# ["tanaka", "hanako", "nagata", "tanaka"]
p arr2
# ["tanaka", "hanako", "nagata"]
```

uniq! ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§å…ƒã®é…åˆ—ã‚’ç ´å£Šçš„ã«å¤‰æ›´ã—ã¾ã™ã€‚
```rb
arr = ["tanaka", "hanako", "nagata", "tanaka"]
arr2 = arr.uniq!
p arr
# ["tanaka", "hanako", "nagata"]
p arr2
# ["tanaka", "hanako", "nagata"]
```

# ãƒ–ãƒ­ãƒƒã‚¯ã‚’æ¸¡ã›ã‚‹ã®ã§ã€Hash ã®é…åˆ—ã§ Hash ã®ç‰¹å®šã®ã‚­ãƒ¼ã®é‡è¤‡ã¨ã‹ã‚‚å‰Šé™¤ã§ãã‚‹
uniq è‡ªä½“ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰ã§ã—ãŸãŒã€ãƒ–ãƒ­ãƒƒã‚¯ã‚’æ¸¡ã›ã‚‹ã®ãŒã•ã‚‰ã«ä¾¿åˆ©ã ã¨ãŠã‚‚ã„ã¾ã—ãŸã€‚
ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãª Hash ã®é…åˆ—ãŒã‚ã£ãŸã¨ãã§ã‚‚ã€ã‚­ãƒ¼ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§é‡è¤‡ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```rb
arr = [{id: 0, name: "tanaka"}, {id: 1, name: "hanako"}, {id: 2, name: "nagata"}, {id: 0, name: "tanaka"}]

arr.uniq { |h| h.id }
# [{id: 0, name: "tanaka"}, {id: 1, name: "hanako"}, {id: 2, name: "nagata"}]
```

ä¸Šè¨˜ã®ã‚ˆã†ã«ã€ãƒ–ãƒ­ãƒƒã‚¯å†…ã§ id ã‚’å–ã‚Šå‡ºã™ã“ã¨ã§ã€Hash å†…ã® id ãŒ é…åˆ—å†…ã§é‡è¤‡ã—ã¦ã„ãŸå ´åˆã€å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ãªãŠã€uniq ãƒ¡ã‚½ãƒƒãƒ‰ã¯é…åˆ—ã®å…ˆé ­ã‹ã‚‰ãŸã©ã£ã¦é‡è¤‡ã‚’å‰Šé™¤ã—ã¦ã„ãã€å…ˆã«å‡ºç¾ã—ãŸã‚‚ã®ãŒæ®‹ã‚‹ä»•æ§˜ã ãã†ã§ã™ã€‚æŒ‡å®šã™ã‚‹ã‚­ãƒ¼ã«ã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã­ï½

```rb
# å…ˆã«å‡ºç¾ã—ãŸã‚‚ã®ãŒæ®‹ã‚‹
arr = [{id: 0, name: "tanaka"}, {id: 1, name: "hanako"}, {id: 2, name: "nagata"}, {id: 0, name: "yamada"}]

arr.uniq { |item| item[:id]}
# [{:id=>0, :name=>"tanaka"}, {:id=>1, :name=>"hanako"}, {:id=>2, :name=>"nagata"}]
```

# å‚è€ƒ
https://docs.ruby-lang.org/ja/latest/method/Array/i/uniq.html
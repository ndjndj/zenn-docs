---
title: "Docker ãƒ­ã‚°ç¢ºèªè«¸ã€…ã¾ã¨ã‚(build, up, etc.)"
emoji: "ğŸ¶"
type: "tech"
topics:
  - "docker"
published: true
published_at: "2023-12-30 01:45"
---

`Docker` ã®ãƒ­ã‚°ç¢ºèªæ“ä½œã®ã¾ã¨ã‚ã§ã™ã€‚
éšæ™‚è¿½è¨˜ã—ã¦ã„ãäºˆå®šã§ã™ã€‚

# build æ™‚ã®ãƒ­ã‚°ç¢ºèª

é€šå¸¸ã€`docker compose build` ã‚’è¡Œã†ã¨â†“ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã€ãƒ­ã‚°ãŒã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/12a6b63cd937-20231230.png)

`build` å¤±æ•—æ™‚ã«è©³ç´°ãªãƒ­ã‚°ã‚’ç¢ºèªã—ãŸã„ã¨ãã¯ `docker compose build` ã« `progress=plain` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½è¨˜ã™ã‚‹ã¨è©³ç´°ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```bash
docker compose build --progress=plain
```

![](https://storage.googleapis.com/zenn-user-upload/3d3e8e590cf2-20231230.png)

# ã‚³ãƒ³ãƒ†ãƒŠä¸€è¦§ã®è¡¨ç¤º

ã‚³ãƒ³ãƒ†ãƒŠã®çŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹ã¨ãã«ä½¿ã£ã¦ã¾ã™ã€‚

```bash
docker ps # å®Ÿè¡Œä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠã®ã¿è¡¨ç¤º
docker ps -a # å…¨ã¦ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’è¡¨ç¤º
```

# ã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¡ä¸Šã’ãŸã‚ã¨ã®ãƒ­ã‚°ç¢ºèª

ä½œæˆã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
`build` ã«ã¯æˆåŠŸã—ãŸã®ã« `ps` ã—ãŸã‚‰å®Ÿè¡Œã•ã‚Œã¦ãªã‹ã£ãŸã¨ãã«ã¿ãŸã‚Šã—ã¦ã¾ã™ã€‚

```bash
docker compose logs
#ç‰¹å®šã®ã‚µãƒ¼ãƒ“ã‚¹ã®ã¿ã‚’è¡¨ç¤ºã—ãŸã„å ´åˆã€ã‚³ãƒ³ãƒ†ãƒŠåã‚’è¿½åŠ ã™ã‚‹
docker compose logs rails 
#è¡¨ç¤ºã—ç¶šã‘ã‚‹
docker compose logs -f
```

![](https://storage.googleapis.com/zenn-user-upload/eba34843cdff-20231230.png)

# å‚è€ƒ
- build
  https://docs.docker.jp/engine/reference/commandline/buildx_build.html
- ps
  https://docs.docker.jp/engine/reference/commandline/ps.html
- logs
  https://docs.docker.com/engine/reference/commandline/compose_logs/
  https://www.kagoya.jp/howto/cloud/container/dockerlog/